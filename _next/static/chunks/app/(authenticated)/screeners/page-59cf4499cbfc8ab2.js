(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9712],{2330:(e,a,s)=>{"use strict";function t(e){var a,s,t,l,r,i,n,o,c,d,m,h,u,x,p,v,g,f;return{stockName:e.fname||e.stckname,symbol:e.stckname,currentPrice:null!==(a=e.close)&&void 0!==a?a:0,percentageChange:null!==(s=e.pcnt)&&void 0!==s?s:0,dayRange:{low:null!==(t=e.low)&&void 0!==t?t:0,high:null!==(l=e.high)&&void 0!==l?l:0},weekRange:{low:null!==(r=e.min52)&&void 0!==r?r:0,high:null!==(i=e.max52)&&void 0!==i?i:0},volume:null!==(n=e.vol)&&void 0!==n?n:0,smavolume4:((null!==(o=e.vol2)&&void 0!==o?o:0)+(null!==(c=e.vol3)&&void 0!==c?c:0)+(null!==(d=e.vol4)&&void 0!==d?d:0)+(null!==(m=e.vol5)&&void 0!==m?m:0))/4,performance:[null!==(h=e.pc)&&void 0!==h?h:0,null!==(u=e.pc2)&&void 0!==u?u:0,null!==(x=e.pc3)&&void 0!==x?x:0,null!==(p=e.pc4)&&void 0!==p?p:0,null!==(v=e.pc5)&&void 0!==v?v:0,null!==(g=e.pc6)&&void 0!==g?g:0,null!==(f=e.pc7)&&void 0!==f?f:0].filter(e=>null!=e)}}function l(e){return e>=1e9?(e/1e9).toFixed(2)+"B":e>=1e6?(e/1e6).toFixed(2)+"M":e>=1e3?(e/1e3).toFixed(2)+"K":(null!=e?e:0).toString()}function r(e){var a,s,t,l,r,i,n,o,c,d,m,h,u,x,p,v,g,f;return{stockName:e.stckname,symbol:e.stckname,currentPrice:null!==(a=e.close)&&void 0!==a?a:0,percentageChange:null!==(s=e.pcnt)&&void 0!==s?s:0,dayRange:{low:null!==(t=e.low)&&void 0!==t?t:0,high:null!==(l=e.high)&&void 0!==l?l:0},weekRange:{low:null!==(r=e.week_min_52_low)&&void 0!==r?r:0,high:null!==(i=e.week_max_52_high)&&void 0!==i?i:0},volume:null!==(n=e.vol)&&void 0!==n?n:0,smavolume4:((null!==(o=e.prev_day_vol)&&void 0!==o?o:0)+(null!==(c=e.prev_day2_vol)&&void 0!==c?c:0)+(null!==(d=e.prev_day3_vol)&&void 0!==d?d:0)+(null!==(m=e.prev_day4_vol)&&void 0!==m?m:0))/4,performance:[null!==(h=e.prev_day_close)&&void 0!==h?h:0,null!==(u=e.prev_day2_close)&&void 0!==u?u:0,null!==(x=e.prev_day3_close)&&void 0!==x?x:0,null!==(p=e.prev_day4_close)&&void 0!==p?p:0,null!==(v=e.prev_day5_close)&&void 0!==v?v:0,null!==(g=e.prev_day6_close)&&void 0!==g?g:0,null!==(f=e.prev_day7_close)&&void 0!==f?f:0].filter(e=>null!=e)}}function i(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"INR";return new Intl.NumberFormat("en-US",{style:"currency",currency:a,notation:"compact",maximumFractionDigits:1,compactDisplay:"short"}).format(null!=e?e:0)}s.d(a,{Qt:()=>l,TL:()=>i,_N:()=>r,xO:()=>t})},3284:(e,a,s)=>{"use strict";s.d(a,{default:()=>D});var t=s(95155),l=s(12115),r=s(47924),i=s(54416),n=s(1482),o=s(66474),c=s(47863),d=s(19946);let m=(0,d.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=(0,d.A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);var u=s(35695),x=s(66695),p=s(59409),v=s(62523),g=s(30285),f=s(38382),j=s(88262),_=s(99231),N=s(90847),y=s(2330);let w=(0,s(34060).UU)("https://jxwgfrnoujnwhlevugur.supabase.co","sb_publishable_Ex3GKCzjTB8Dvhz2js3Evg_jQiao315"),b=async(e,a,s,t)=>{try{let l="SELECT * FROM generated_values",r=[];if(e&&r.push("stckname ILIKE '%".concat(e,"%'")),a.length>0){let e=a.filter(e=>e.indicator_l&&e.operator&&e.indicator_r);if(e.length>0){let a=e.map(e=>"".concat(e.indicator_l," ").concat(A(e.operator)," ").concat(e.indicator_r));r.push("(".concat(a.join(" AND "),")"))}}r.length>0&&(l+=" WHERE ".concat(r.join(" AND "))),l+=" ORDER BY pcnt DESC LIMIT ".concat(t," OFFSET ").concat((s-1)*t);let{data:i,error:n}=await w.rpc("execute_query",{query_text:l});if(n)throw n;return{data:i||[]}}catch(e){return console.error("Error in querying: "+e),{data:[]}}},k=async(e,a)=>{try{let s="SELECT COUNT(*) FROM generated_values",t=[];if(e&&t.push("stckname ILIKE '%".concat(e,"%'")),a.length>0){let e=a.filter(e=>e.indicator_l&&e.operator&&e.indicator_r);if(e.length>0){let a=e.map(e=>"".concat(e.indicator_l," ").concat(A(e.operator)," ").concat(e.indicator_r));t.push("(".concat(a.join(" AND "),")"))}}t.length>0&&(s+=" WHERE ".concat(t.join(" AND ")));let{data:l,error:r}=await w.rpc("execute_count_query",{query_text:s});if(r)throw r;return{count:l?parseInt(l):0}}catch(e){return console.error("Error in total count: "+e),{count:0}}};function A(e){switch(e){case"gt":return">";case"lt":return"<";case"eq":default:return"=";case"gte":return">=";case"lte":return"<=";case"neq":return"!="}}let S={breakout:()=>[{indicator_l:"high",operator:"gte",indicator_r:"prev_day_high"},{indicator_l:"high",operator:"gte",indicator_r:"week_max_52_high"}],bullishMomentum:()=>[{indicator_l:"close",operator:"gt",indicator_r:"ema20"},{indicator_l:"ema20",operator:"gt",indicator_r:"ema50"},{indicator_l:"ema50",operator:"gt",indicator_r:"ema200"},{indicator_l:"vol",operator:"gt",indicator_r:"curr_day_sma5_volume"}],volumeSpike:()=>[{indicator_l:"vol",operator:"gt",indicator_r:"prev_day_vol"},{indicator_l:"vol",operator:"gt",indicator_r:"prev_day2_vol"},{indicator_l:"vol",operator:"gt",indicator_r:"prev_day3_vol"}],aboveEMA:()=>[{indicator_l:"close",operator:"gt",indicator_r:"ema20"}],deathCross:()=>[{indicator_l:"ema20",operator:"lt",indicator_r:"sma50"}]};var C=s(33109),E=s(68500),R=s(39881),T=s(58832),O=s(59434),M=s(45756);let F=e=>{let{low:a,high:s,current:l}=e,r=s-a,i=(l-a)/r*100,n=2*Math.abs(i-50);return(0,t.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,t.jsx)("div",{className:"relative h-2",children:(0,t.jsx)("div",{className:"absolute w-full h-full bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"absolute h-full rounded-full transition-all duration-300 ".concat(i>=50?"bg-emerald-500":"bg-red-500"),style:{width:"".concat(i,"%"),opacity:"".concat(n,"%")}})})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,t.jsxs)("span",{className:"text-red-500 font-medium",children:["₹",a.toFixed(2)]}),(0,t.jsxs)("span",{className:"text-emerald-500 font-medium",children:["₹",s.toFixed(2)]})]})]})};function I(e){let{stockName:a="",symbol:s="",currentPrice:l=23,percentageChange:r=23,dayRange:i={low:20,high:50},volume:n=2323,smavolume4:o=2323,className:c=""}=e,d=r>=0,m="/assets/stockimages/".concat(a.split(":")[1].split("-")[0],".png");return(0,t.jsxs)(x.Zp,{className:(0,O.cn)("w-full overflow-hidden transition-all duration-300 hover:shadow-lg hover:-translate-y-1","border-".concat(d?"emerald":"red","-200/30"),"".concat(d?"bg-emerald":"bg-red","-50/10 dark:").concat(d?"bg-emerald":"bg-red","-900/10"),c),children:[(0,t.jsx)(x.aR,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)(M.A,{src:m,alt:"".concat(s," logo"),width:40,height:40,className:(0,O.cn)("rounded-xl","border border-gray-200 dark:border-white/20","transition-transform duration-300","group-hover:scale-110","shadow-lg")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-xl text-gray-900 dark:text-white",children:s.split(":")[1].split("-")[0]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a})]})]}),(0,t.jsxs)("div",{className:"flex flex-col items-start sm:items-end gap-3 w-full sm:w-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full sm:w-auto justify-between sm:justify-end",children:[(0,t.jsxs)("span",{className:(0,O.cn)("text-lg font-bold","text-".concat(d?"emerald":"red","-600 dark:text-").concat(d?"emerald":"red","-400")),children:["₹",l.toFixed(2)]}),(0,t.jsxs)("span",{className:(0,O.cn)("flex items-center gap-1 rounded-full px-3 py-1 text-sm font-medium text-white","bg-".concat(d?"emerald":"red","-500")),children:[d?(0,t.jsx)(C.A,{className:"h-3 w-3"}):(0,t.jsx)(E.A,{className:"h-3 w-3"}),d?"+":"",r.toFixed(2),"%"]})]}),(0,t.jsx)("div",{className:"w-full sm:w-40",children:(0,t.jsx)(F,{low:i.low,high:i.high,current:l})})]})]})}),(0,t.jsx)(x.Wu,{className:"pb-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Day Range"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:["₹",i.low.toFixed(2)," - ₹",i.high.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Volume"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:n.toLocaleString()}),n>o?(0,t.jsx)(R.A,{className:"h-3 w-3 text-emerald-500"}):(0,t.jsx)(T.A,{className:"h-3 w-3 text-red-500"})]})]})]})})]})}let D=()=>{let e=(0,u.useRouter)(),a=(0,u.useSearchParams)(),[s,d]=(0,l.useState)([]),[w,A]=(0,l.useState)([]),[C,E]=(0,l.useState)(""),[R,T]=(0,l.useState)([]),[O,M]=(0,l.useState)(!1),[F,D]=(0,l.useState)(""),[P,q]=(0,l.useState)(!1),[L,U]=(0,l.useState)(1),[V,$]=(0,l.useState)(0),[z,W]=(0,l.useState)(!1),[B,Z]=(0,l.useState)(!1),[G,J]=(0,l.useState)([]),K={Price:["open","close","high","low"],"Moving Averages":["ema10","ema20","ema50","ema100","ema150","ema200","sma10","sma20","sma50","sma100","sma150","sma200"],Volume:["vol","curr_month_vol","curr_week_vol","curr_day_sma5_volume"],RSI:["rsi14","curr_week_rsi14"],Historical:["max_250_high","min_250_low","week_max_52_high","week_min_52_low"],"Previous Days":["prev_day_close","prev_day2_close","prev_day3_close","prev_day4_close","prev_day5_close","prev_day_high","prev_day2_high","prev_day3_high","prev_day4_high","prev_day5_high","prev_day_low","prev_day2_low","prev_day3_low","prev_day4_low","prev_day5_low","prev_day_vol","prev_day2_vol","prev_day3_vol","prev_day4_vol","prev_day5_vol"]},H=[{value:"gt",label:"Greater than"},{value:"lt",label:"Less than"},{value:"eq",label:"Equal to"},{value:"gte",label:"Greater than or equal"},{value:"lte",label:"Less than or equal"}],Q=e=>{let a=H.find(a=>a.value===e);return a?a.label.toLowerCase():e},X=e=>e.indicator_l&&e.operator&&e.indicator_r?"".concat(e.indicator_l," ").concat(Q(e.operator)," ").concat(e.indicator_r):"Incomplete filter",Y=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new URLSearchParams;C&&t.set("search",C),a?t.set("indicator",a):s.length>0&&t.set("filters",JSON.stringify(s)),L>1&&t.set("page",L.toString());let l=window.location.pathname+(t.toString()?"?".concat(t.toString()):"");e.push(l,{scroll:!1})};(0,l.useEffect)(()=>{let e=null==a?void 0:a.get("search"),s=null==a?void 0:a.get("filters"),t=null==a?void 0:a.get("page"),l=null==a?void 0:a.get("indicator");if(e&&E(e),t&&U(parseInt(t)),s)try{let e=JSON.parse(s);d(e),A(e.map(e=>e.indicator_l&&e.operator&&e.indicator_r))}catch(e){console.error("Error parsing filters from URL",e)}if(l){if(["breakout","bullishMomentum","volumeSpike","aboveEMA","deathCross"].includes(l)){let e=S[l]();d(e),A(e.map(()=>!0)),J([l]),Z(!0)}else console.warn("Invalid pattern: ".concat(l)),d([])}(e||s||l)&&setTimeout(()=>{ee()},0)},[]);let ee=async()=>{if(!C&&0===s.length){T([]),$(0),M(!1);return}M(!0);try{let{data:e}=await b(C,s,L,10),{count:a}=await k(C,s);T(e),$(a),W(!0),(0,j.oR)({title:"Screener Results",description:"Found ".concat(a," stocks matching your criteria"),duration:3e3,variant:"default",className:"bg-green-50 border-green-200 text-green-800"})}catch(e){console.error("Error fetching data:",e),T([]),$(0),(0,j.oR)({title:"Error",description:"Failed to fetch stock data. Please try again.",variant:"destructive",duration:3e3})}finally{M(!1)}};(0,l.useEffect)(()=>{z&&(ee(),Y())},[L]),(0,l.useEffect)(()=>{s.forEach((e,a)=>{if(e.indicator_l&&e.operator&&e.indicator_r){let e=[...w];e[a]=!0,A(e)}})},[s]),(0,l.useEffect)(()=>{let e=[...w];s.forEach((a,s)=>{a.indicator_l&&a.operator&&a.indicator_r&&(e[s]=!0)}),JSON.stringify(e)!==JSON.stringify(w)&&A(e)},[s]);let ea=()=>{d([...s,{indicator_l:"",operator:"",indicator_r:""}]),A([...w,!1])},es=e=>{let a=s.filter((a,s)=>s!==e),t=w.filter((a,s)=>s!==e);d(a),A(t)},et=(e,a,t)=>{let l=[...s];if(l[e][a]=t,d(l),l[e].indicator_l&&l[e].operator&&l[e].indicator_r){let a=[...w];a[e]=!0,A(a)}},el=e=>{let a=[...w];a[e]=!a[e],A(a)},er=e=>!!(e.indicator_l&&e.operator&&e.indicator_r),ei=e=>{D(e),q(!0)},en=async()=>{(0!==s.length||""!==C)&&(U(1),Y(),await ee())},eo=(e,a)=>{d(a),A(a.map(()=>!0)),J([e]),Z(!0),Y(e),setTimeout(()=>{ee()},0)},ec=s.length>0||""!==C;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(x.Zp,{className:"w-full",children:[(0,t.jsx)(x.aR,{children:(0,t.jsx)(x.ZB,{className:"text-2xl font-bold",children:"Add Filters"})}),(0,t.jsxs)(x.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"relative w-full",children:[(0,t.jsx)(r.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(v.p,{placeholder:"Search stocks by name...",className:"pl-10 w-full",value:C,onChange:e=>E(e.target.value)})]}),(0,t.jsx)("div",{className:"flex flex-col md:flex-row gap-4 w-full",children:(0,t.jsxs)(g.$,{onClick:()=>{d([]),A([]),E(""),W(!1),T([]),$(0),J([]),e.push(window.location.pathname)},variant:"outline",size:"sm",className:"flex items-center gap-2 w-full md:w-auto",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),"Clear All"]})})]}),(0,t.jsxs)("div",{className:"space-y-4 border rounded-lg p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.A,{className:"h-5 w-5"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Custom Filters"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",(()=>{if(0===s.length)return"No custom filters applied";let e=s.filter(er);return"".concat(e.length," comparison").concat(e.length>1?"s":""," applied")})(),")"]})]})}),(0,t.jsxs)("div",{className:"space-y-4 pt-2",children:[s.length>0?s.map((e,a)=>{let s=er(e),l=w[a]&&s;return(0,t.jsxs)(x.Zp,{className:"p-4",children:[(0,t.jsxs)("div",{className:"md:hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>s?el(a):null,children:[l?(0,t.jsx)("div",{className:"flex-1 font-medium text-indigo-700 dark:text-indigo-400",children:X(e)}):(0,t.jsxs)("div",{className:"font-medium",children:["Filter ",a+1]}),(0,t.jsxs)("div",{className:"flex items-center",children:[s&&(l?(0,t.jsx)(o.A,{className:"h-5 w-5 mr-2 text-indigo-500"}):(0,t.jsx)(c.A,{className:"h-5 w-5 mr-2 text-indigo-500"})),(0,t.jsx)(g.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),es(a)},className:"hover:bg-rose-100 dark:hover:bg-rose-900/30 hover:text-rose-600 transition-colors",children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})]})]}),!l&&(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-4",children:[(0,t.jsxs)(p.l6,{value:e.indicator_l,onValueChange:e=>et(a,"indicator_l",e),children:[(0,t.jsx)(p.bq,{className:"w-full mb-2",children:(0,t.jsx)(p.yv,{placeholder:"Select Indicator"})}),(0,t.jsx)(p.gC,{children:Object.entries(K).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:a}),s.map(e=>(0,t.jsx)(p.eb,{value:e,children:e},e))]},a)})})]}),(0,t.jsxs)(p.l6,{value:e.operator,onValueChange:e=>et(a,"operator",e),children:[(0,t.jsx)(p.bq,{className:"w-full mb-2",children:(0,t.jsx)(p.yv,{placeholder:"Operator"})}),(0,t.jsx)(p.gC,{children:H.map(e=>(0,t.jsx)(p.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(p.l6,{value:e.indicator_r,onValueChange:e=>et(a,"indicator_r",e),children:[(0,t.jsx)(p.bq,{className:"w-full",children:(0,t.jsx)(p.yv,{placeholder:"Select Indicator"})}),(0,t.jsx)(p.gC,{children:Object.entries(K).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:a}),s.map(e=>(0,t.jsx)(p.eb,{value:e,children:e},e))]},a)})})]})]})]}),(0,t.jsx)("div",{className:"hidden md:block",children:s&&l?(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gradient-to-r from-indigo-50 to-violet-50 dark:from-indigo-950/30 dark:to-violet-950/30 rounded-md p-4 shadow-sm transition-all duration-200 hover:shadow-md cursor-pointer",onClick:()=>el(a),children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"bg-indigo-100 dark:bg-indigo-900/50 p-1.5 rounded-full",children:(0,t.jsx)(n.A,{className:"h-4 w-4 text-indigo-700 dark:text-indigo-400"})}),(0,t.jsx)("span",{className:"font-medium text-indigo-700 dark:text-indigo-400",children:X(e)})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-xs px-2 py-0.5 bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 rounded-full",children:"Active"}),(0,t.jsx)(g.$,{variant:"ghost",size:"icon",onClick:e=>{e.stopPropagation(),es(a)},className:"hover:bg-rose-100 dark:hover:bg-rose-900/30 hover:text-rose-600 transition-colors",children:(0,t.jsx)(i.A,{className:"h-4 w-4"})}),(0,t.jsx)(o.A,{className:"h-5 w-5 text-indigo-500"})]})]}):(0,t.jsxs)("div",{className:"md:flex md:flex-row md:items-center md:gap-4",children:[(0,t.jsxs)(p.l6,{value:e.indicator_l,onValueChange:e=>et(a,"indicator_l",e),children:[(0,t.jsx)(p.bq,{className:"w-[200px]",children:(0,t.jsx)(p.yv,{placeholder:"Select Left Column"})}),(0,t.jsx)(p.gC,{children:Object.entries(K).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:a}),s.map(e=>(0,t.jsx)(p.eb,{value:e,children:e},e))]},a)})})]}),(0,t.jsxs)(p.l6,{value:e.operator,onValueChange:e=>et(a,"operator",e),children:[(0,t.jsx)(p.bq,{className:"w-[150px]",children:(0,t.jsx)(p.yv,{placeholder:"Operator"})}),(0,t.jsx)(p.gC,{children:H.map(e=>(0,t.jsx)(p.eb,{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)(p.l6,{value:e.indicator_r,onValueChange:e=>et(a,"indicator_r",e),children:[(0,t.jsx)(p.bq,{className:"w-[200px]",children:(0,t.jsx)(p.yv,{placeholder:"Select Right Column"})}),(0,t.jsx)(p.gC,{children:Object.entries(K).map(e=>{let[a,s]=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"px-2 py-1.5 text-sm font-semibold",children:a}),s.map(e=>(0,t.jsx)(p.eb,{value:e,children:e},e))]},a)})})]}),(0,t.jsx)(g.$,{variant:"ghost",size:"icon",onClick:()=>es(a),className:"ml-auto",children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})]})})]},a)}):(0,t.jsxs)("div",{className:"text-center p-4 text-gray-500",children:[(0,t.jsx)("p",{className:"mb-4",children:'No custom filters added yet. Click "Add Filter" to create one.'}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)(g.$,{onClick:ea,size:"sm",className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),"Add Filter"]})})]}),s.length>0&&(0,t.jsxs)(g.$,{onClick:ea,size:"sm",className:"flex items-center gap-2",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),"Add Filter"]})]})]}),(0,t.jsxs)("div",{className:"space-y-4 border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>Z(!B),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{d:"M3 9h18M3 15h18M9 3v18M15 3v18",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Technical Patterns"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",0===G.length?"No patterns applied":G.map(e=>e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")).join(", "),")"]})]}),B?(0,t.jsx)(o.A,{className:"h-5 w-5"}):(0,t.jsx)(c.A,{className:"h-5 w-5"})]}),!B&&(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 pt-2",children:Object.entries(S).map(e=>{let[a,s]=e;return(0,t.jsx)(g.$,{variant:G.includes(a)?"default":"outline",className:"flex items-center justify-center gap-2 p-4",onClick:()=>{eo(a,s())},children:(0,t.jsx)("span",{className:"capitalize",children:a.split("_").join(" ")})},a)})})]}),ec&&(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,t.jsx)(g.$,{onClick:en,className:"flex items-center gap-2 px-6 py-3",disabled:O,children:O?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,t.jsx)("span",{children:"Running..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Run Filters"})]})}),z&&(0,t.jsxs)("div",{className:"text-center bg-gray-100 dark:bg-gray-800 p-3 rounded-md w-full",children:[(0,t.jsx)("span",{className:"font-semibold"})," ",V," stocks found"]})]})]})]}),(0,t.jsx)("div",{className:"container mx-auto p-2",children:(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4",children:O?Array.from({length:10}).map((e,a)=>(0,t.jsx)("div",{className:"max-w-2xl",children:(0,t.jsx)(_.A,{})},a)):R.length>0?R.map((e,a)=>{let s=(0,y._N)(e);return(0,t.jsx)("div",{onClick:()=>ei(e.stckname),className:"cursor-pointer",children:(0,t.jsx)(I,{stockName:s.stockName,symbol:s.symbol,currentPrice:s.currentPrice,percentageChange:s.percentageChange,dayRange:s.dayRange,weekRange:s.weekRange,volume:s.volume,smavolume4:s.smavolume4,data:s.performance.map((e,a)=>({month:"Day ".concat(a+1),Performance:e})),className:"max-w-2xl"})},a)}):z?(0,t.jsxs)("div",{className:"col-span-2 text-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:"No stocks match your criteria"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Try adjusting your filters or search term"})]}):(0,t.jsxs)("div",{className:"col-span-2 text-center p-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-800 dark:text-gray-200",children:'Add filters and click "Run Filters"'}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Use the search or filter options above to find stocks"})]})})}),V>0&&(0,t.jsxs)("div",{className:"flex justify-center gap-4 mt-6",children:[(0,t.jsx)(g.$,{onClick:()=>{U(e=>Math.max(e-1,1))},disabled:1===L||O,variant:"outline",children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center px-4",children:(0,t.jsxs)("span",{children:["Page ",L," of ",Math.ceil(V/10)||1]})}),(0,t.jsx)(g.$,{onClick:()=>{U(e=>e+1)},disabled:10*L>=V||O,variant:"outline",children:"Next"})]}),(0,t.jsx)(f.cj,{open:P,onOpenChange:q,children:(0,t.jsx)(f.h,{className:"w-full overflow-auto",children:(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(N.A,{stockname:F})})})})]})}},21032:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,6874,23)),Promise.resolve().then(s.bind(s,3284)),Promise.resolve().then(s.bind(s,96828))},39881:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]])},54416:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},58832:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]])},62523:(e,a,s)=>{"use strict";s.d(a,{p:()=>i});var t=s(95155),l=s(12115),r=s(59434);let i=l.forwardRef((e,a)=>{let{className:s,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",s),ref:a,...i})});i.displayName="Input"},68500:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},88262:(e,a,s)=>{"use strict";s.d(a,{dj:()=>h,oR:()=>m});var t=s(12115);let l=0,r=new Map,i=e=>{if(r.has(e))return;let a=setTimeout(()=>{r.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,a)},n=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},o=[],c={toasts:[]};function d(e){c=n(c,e),o.forEach(e=>{e(c)})}function m(e){let{...a}=e,s=(l=(l+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function h(){let[e,a]=t.useState(c);return t.useEffect(()=>(o.push(a),()=>{let e=o.indexOf(a);e>-1&&o.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},99231:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(95155);s(12115);var l=s(66695),r=s(68856);function i(){return(0,t.jsxs)(l.Zp,{className:"w-full",children:[(0,t.jsx)(l.aR,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.E,{className:"h-6 w-24"}),(0,t.jsx)(r.E,{className:"h-4 w-12"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,t.jsx)(r.E,{className:"h-6 w-16"}),(0,t.jsx)(r.E,{className:"h-2 w-40"})]})]})}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"pt-4",children:(0,t.jsx)(r.E,{className:"h-24 w-full"})})})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5105,7649,8847,6453,6766,4060,6343,2453,905,6828,6849,6271,8441,1684,7358],()=>a(21032)),_N_E=e.O()}]);