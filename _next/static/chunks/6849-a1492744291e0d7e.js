"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6849],{22633:(e,t,r)=>{r.d(t,{IQ:()=>s,MT:()=>l,YA:()=>n,pp:()=>i,tQ:()=>o});let a={blue:{bg:"bg-blue-500",stroke:"stroke-blue-500",fill:"fill-blue-500",text:"text-blue-500"},emerald:{bg:"bg-emerald-500",stroke:"stroke-emerald-500",fill:"fill-emerald-500",text:"text-emerald-500"},violet:{bg:"bg-violet-500",stroke:"stroke-violet-500",fill:"fill-violet-500",text:"text-violet-500"},amber:{bg:"bg-amber-500",stroke:"stroke-amber-500",fill:"fill-amber-500",text:"text-amber-500"},gray:{bg:"bg-gray-500",stroke:"stroke-gray-500",fill:"fill-gray-500",text:"text-gray-500"},cyan:{bg:"bg-cyan-500",stroke:"stroke-cyan-500",fill:"fill-cyan-500",text:"text-cyan-500"},pink:{bg:"bg-pink-500",stroke:"stroke-pink-500",fill:"fill-pink-500",text:"text-pink-500"},lime:{bg:"bg-lime-500",stroke:"stroke-lime-500",fill:"fill-lime-500",text:"text-lime-500"},fuchsia:{bg:"bg-fuchsia-500",stroke:"stroke-fuchsia-500",fill:"fill-fuchsia-500",text:"text-fuchsia-500"}},l=Object.keys(a),n=(e,t)=>{let r=new Map;return e.forEach((e,a)=>{r.set(e,t[a%t.length])}),r},o=(e,t)=>{var r,l;return null!==(l=null===(r=a[e])||void 0===r?void 0:r[t])&&void 0!==l?l:({bg:"bg-gray-500",stroke:"stroke-gray-500",fill:"fill-gray-500",text:"text-gray-500"})[t]},i=(e,t,r)=>[e?"auto":null!=t?t:0,null!=r?r:"auto"];function s(e,t){let r=[];for(let a of e)if(Object.prototype.hasOwnProperty.call(a,t)&&(r.push(a[t]),r.length>1&&r[0]!==r[1]))return!1;return r.length>0}},40980:(e,t,r)=>{r.d(t,{A:()=>n});var a=r(95155),l=r(68856);function n(){return(0,a.jsx)("div",{className:"p-2 flex flex-col space-y-4",children:(0,a.jsx)(l.E,{className:"h-96 w-full"})})}},66695:(e,t,r)=>{r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>s,Zp:()=>o,aR:()=>i,wL:()=>u});var a=r(95155),l=r(12115),n=r(59434);let o=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow",r),...l})});o.displayName="Card";let i=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...l})});i.displayName="CardHeader";let s=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...l})});s.displayName="CardTitle";let c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...l})});c.displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...l})});d.displayName="CardContent";let u=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...l})});u.displayName="CardFooter"},68856:(e,t,r)=>{r.d(t,{E:()=>n});var a=r(95155),l=r(59434);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-muted",t),...r})}},89669:(e,t,r)=>{r.d(t,{L:()=>l,d:()=>n});let a=(0,r(34060).UU)("https://jxwgfrnoujnwhlevugur.supabase.co","sb_publishable_Ex3GKCzjTB8Dvhz2js3Evg_jQiao315");async function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1y";try{let r;let l=new Date;switch(t){case"1m":r=new Date(l.setMonth(l.getMonth()-1));break;case"3m":r=new Date(l.setMonth(l.getMonth()-3));break;case"6m":r=new Date(l.setMonth(l.getMonth()-6));break;case"1y":default:r=new Date(l.setFullYear(l.getFullYear()-1));break;case"3y":r=new Date(l.setFullYear(l.getFullYear()-3));break;case"5y":r=new Date(l.setFullYear(l.getFullYear()-5))}let n=r.getTime(),{data:o,error:i}=await a.from("stock_data").select("*").eq("Stock Symbol",e).gte("Timestamp",n).order("Timestamp",{ascending:!0});if(i)throw console.error("Error fetching data:",i),i;let s=o.map(e=>({date:new Date(e.Timestamp).toLocaleDateString("en-GB","6m"===t||"1y"===t||"3y"===t||"5y"===t?{day:"2-digit",month:"short",year:"numeric"}:{month:"short",year:"numeric"}),price:e.Close,highprice:e.High,lowprice:e.Low,openprice:e.Open,volume:e.Volume})),c=s;return"3y"===t&&s.length>365?c=s.filter((e,t)=>t%3==0):"5y"===t&&s.length>600&&(c=s.filter((e,t)=>t%5==0)),{data:c,error:null}}catch(e){return{data:null,error:e instanceof Error?e:Error("Unknown error occurred")}}}async function n(e){try{let{data:t,error:r}=await a.from("stock_data").select("*").eq("Stock Symbol",e).order("Timestamp",{ascending:!1}).limit(2);if(r)throw r;if(!t||t.length<2)return{data:null,error:Error("Insufficient recent data")};let l=t[0].Close,n=t[1].Close,o=new Date(t[0].Timestamp),i=o.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}),s=new Date(o);s.setDate(s.getDate()-7);let{data:c,error:d}=await a.from("stock_data").select("Close").eq("Stock Symbol",e).gte("Timestamp",s.getTime()).order("Timestamp",{ascending:!0}).limit(1);if(d)throw d;let u=new Date(o);u.setMonth(u.getMonth()-1);let{data:p,error:g}=await a.from("stock_data").select("Close").eq("Stock Symbol",e).gte("Timestamp",u.getTime()).order("Timestamp",{ascending:!0}).limit(1);if(g)throw g;let m=new Date(o);m.setFullYear(m.getFullYear()-1);let{data:f,error:x}=await a.from("stock_data").select("Close").eq("Stock Symbol",e).gte("Timestamp",m.getTime()).order("Timestamp",{ascending:!0}).limit(1);if(x)throw x;let h=new Date(o);h.setFullYear(h.getFullYear()-1);let{data:y,error:k}=await a.from("stock_data").select("High, Low").eq("Stock Symbol",e).gte("Timestamp",h.getTime());if(k)throw k;let v=y.map(e=>e.High),b=y.map(e=>e.Low),w=b.length>0?Math.min(...b):l,j=v.length>0?Math.max(...v):l,N=j-w,C=c&&c.length>0?c[0].Close:l,L=p&&p.length>0?p[0].Close:l,T=f&&f.length>0?f[0].Close:l;return{data:{currentPrice:l,previousClose:n,priceChange:Number(((l-n)/n*100).toFixed(2)),weeklyChange:Number(((l-C)/C*100).toFixed(2)),monthlyChange:Number(((l-L)/L*100).toFixed(2)),yearlyChange:Number(((l-T)/T*100).toFixed(2)),lowPrice52W:w,highPrice52W:j,pricePosition:Number((N>0?(l-w)/N*100:50).toFixed(0)),lastUpdated:i},error:null}}catch(e){return{data:null,error:e instanceof Error?e:Error("Unknown error occurred")}}}},96198:(e,t,r)=>{r.d(t,{Q:()=>C});var a=r(95155),l=r(12115),n=r(83540),o=r(99445),i=r(94754),s=r(96025),c=r(16238),d=r(94517),u=r(24026),p=r(62341),g=r(51172),m=r(21374),f=r(35169),x=r(92138),h=r(22633);let y=e=>{l.useEffect(()=>{let t=()=>{e()};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e])};var k=r(74466);let v=e=>{let{name:t,color:r,onClick:l,activeLegend:n}=e,o=!!l;return(0,a.jsxs)("li",{className:(0,k.cx)("group inline-flex flex-nowrap items-center gap-1.5 whitespace-nowrap rounded px-2 py-1 transition",o?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800":"cursor-default"),onClick:e=>{e.stopPropagation(),null==l||l(t,r)},children:[(0,a.jsx)("span",{className:(0,k.cx)("h-[3px] w-3.5 shrink-0 rounded-full",(0,h.tQ)(r,"bg"),n&&n!==t?"opacity-40":"opacity-100"),"aria-hidden":!0}),(0,a.jsx)("p",{className:(0,k.cx)("truncate whitespace-nowrap text-xs","text-gray-700 dark:text-gray-300",o&&"group-hover:text-gray-900 dark:group-hover:text-gray-50",n&&n!==t?"opacity-40":"opacity-100"),children:t})]})},b=e=>{let{icon:t,onClick:r,disabled:n}=e,[o,i]=l.useState(!1),s=l.useRef(null);return l.useEffect(()=>(o?s.current=setInterval(()=>{null==r||r()},300):clearInterval(s.current),()=>clearInterval(s.current)),[o,r]),l.useEffect(()=>{n&&(clearInterval(s.current),i(!1))},[n]),(0,a.jsx)("button",{type:"button",className:(0,k.cx)("group inline-flex size-5 items-center truncate rounded transition",n?"cursor-not-allowed text-gray-400 dark:text-gray-600":"cursor-pointer text-gray-700 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-gray-800 dark:hover:text-gray-50"),disabled:n,onClick:e=>{e.stopPropagation(),null==r||r()},onMouseDown:e=>{e.stopPropagation(),i(!0)},onMouseUp:e=>{e.stopPropagation(),i(!1)},children:(0,a.jsx)(t,{className:"size-full","aria-hidden":"true"})})},w=l.forwardRef((e,t)=>{let{categories:r,colors:n=h.MT,className:o,onClickLegendItem:i,activeLegend:s,enableLegendSlider:c=!1,...d}=e,u=l.useRef(null),p=l.useRef(null),[g,m]=l.useState(null),[y,w]=l.useState(null),j=l.useRef(null),N=l.useCallback(()=>{let e=null==u?void 0:u.current;if(e)m({left:e.scrollLeft>0,right:e.scrollWidth-e.clientWidth>e.scrollLeft})},[m]),C=l.useCallback(e=>{var t,r;let a=null==u?void 0:u.current,l=null==p?void 0:p.current,n=null!==(t=null==l?void 0:l.clientWidth)&&void 0!==t?t:0,o=null!==(r=null==a?void 0:a.clientWidth)&&void 0!==r?r:0;a&&c&&(a.scrollTo({left:"left"===e?a.scrollLeft-o+n:a.scrollLeft+o-n,behavior:"smooth"}),setTimeout(()=>{N()},400))},[c,N]);l.useEffect(()=>{let e=e=>{"ArrowLeft"===e?C("left"):"ArrowRight"===e&&C("right")};return y?(e(y),j.current=setInterval(()=>{e(y)},300)):clearInterval(j.current),()=>clearInterval(j.current)},[y,C]);let L=e=>{e.stopPropagation(),("ArrowLeft"===e.key||"ArrowRight"===e.key)&&(e.preventDefault(),w(e.key))},T=e=>{e.stopPropagation(),w(null)};return l.useEffect(()=>{let e=null==u?void 0:u.current;return c&&(N(),null==e||e.addEventListener("keydown",L),null==e||e.addEventListener("keyup",T)),()=>{null==e||e.removeEventListener("keydown",L),null==e||e.removeEventListener("keyup",T)}},[N,c]),(0,a.jsxs)("ol",{ref:t,className:(0,k.cx)("relative overflow-hidden",o),...d,children:[(0,a.jsx)("div",{ref:u,tabIndex:0,className:(0,k.cx)("flex h-full",c?(null==g?void 0:g.right)||(null==g?void 0:g.left)?"snap-mandatory items-center overflow-auto pl-4 pr-12 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden":"":"flex-wrap"),children:r.map((e,t)=>(0,a.jsx)(v,{name:e,color:n[t],onClick:i,activeLegend:s},"item-".concat(t)))}),c&&((null==g?void 0:g.right)||(null==g?void 0:g.left))?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,k.cx)("absolute bottom-0 right-0 top-0 flex h-full items-center justify-center pr-1","bg-white dark:bg-gray-950"),children:[(0,a.jsx)(b,{icon:f.A,onClick:()=>{w(null),C("left")},disabled:!(null==g?void 0:g.left)}),(0,a.jsx)(b,{icon:x.A,onClick:()=>{w(null),C("right")},disabled:!(null==g?void 0:g.right)})]})}):null]})});w.displayName="Legend";let j=(e,t,r,n,o,i,s,c)=>{let{payload:d}=e,u=l.useRef(null);y(()=>{var e;r((e=>e?Number(e)+15:60)(null===(e=u.current)||void 0===e?void 0:e.clientHeight))});let p=d.filter(e=>"none"!==e.type);return(0,a.jsx)("div",{ref:u,style:{paddingLeft:"left"===s&&c?c-8:0},className:(0,k.cx)("flex items-center",{"justify-center":"center"===s},{"justify-start":"left"===s},{"justify-end":"right"===s}),children:(0,a.jsx)(w,{categories:p.map(e=>e.value),colors:p.map(e=>t.get(e.value)),onClickLegendItem:o,activeLegend:n,enableLegendSlider:i})})},N=e=>{let{active:t,payload:r,label:l,valueFormatter:n}=e;return t&&r&&r.length?(0,a.jsxs)("div",{className:(0,k.cx)("rounded-md border text-sm shadow-md","border-gray-200 dark:border-gray-800","bg-white dark:bg-gray-950"),children:[(0,a.jsx)("div",{className:(0,k.cx)("border-b border-inherit px-4 py-2"),children:(0,a.jsx)("p",{className:(0,k.cx)("font-medium","text-gray-900 dark:text-gray-50"),children:l})}),(0,a.jsx)("div",{className:(0,k.cx)("space-y-1 px-4 py-2"),children:r.map((e,t)=>{let{value:r,category:l,color:o}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{"aria-hidden":"true",className:(0,k.cx)("h-[3px] w-3.5 shrink-0 rounded-full",(0,h.tQ)(o,"bg"))}),(0,a.jsx)("p",{className:(0,k.cx)("whitespace-nowrap text-right","text-gray-700 dark:text-gray-300"),children:l})]}),(0,a.jsx)("p",{className:(0,k.cx)("whitespace-nowrap text-right font-medium tabular-nums","text-gray-900 dark:text-gray-50"),children:n(r)})]},"id-".concat(t))})})]}):null},C=l.forwardRef((e,t)=>{let{data:r=[],categories:f=[],index:x,colors:y=h.MT,valueFormatter:v=e=>e.toString(),startEndOnly:b=!1,showXAxis:w=!0,showYAxis:C=!0,showGridLines:L=!0,yAxisWidth:T=56,intervalType:D="equidistantPreserveStart",showTooltip:E=!0,showLegend:S=!0,autoMinValue:F=!1,minValue:R,maxValue:A,allowDecimals:M=!0,connectNulls:I=!1,className:K,onValueChange:Q,enableLegendSlider:_=!1,tickGap:P=5,xAxisLabel:Y,yAxisLabel:O,type:W="default",legendPosition:z="right",fill:q="gradient",tooltipCallback:G,customTooltip:U,...B}=e,H=(w||C)&&(!b||C)?20:0,[Z,V]=l.useState(60),[J,X]=l.useState(void 0),[$,ee]=l.useState(void 0),et=(0,h.YA)(f,y),er=(0,h.pp)(F,R,A),ea=!!Q,el="stacked"===W||"percent"===W,en=l.useId(),eo=l.useRef(void 0),ei=l.useRef(void 0),es=e=>{let{fillType:t,activeDot:r,activeLegend:l,category:n}=e,o=r||l&&l!==n?.1:.3;switch(t){case"none":return(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:0});case"gradient":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:o}),(0,a.jsx)("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})]});default:return(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:o})}};function ec(e){ea&&(e===$&&!J||(0,h.IQ)(r,e)&&J&&J.dataKey===e?(ee(void 0),null==Q||Q(null)):(ee(e),null==Q||Q({eventType:"category",categoryClicked:e})),X(void 0))}return(0,a.jsx)("div",{ref:t,className:(0,k.cx)("h-80 w-full",K),"tremor-id":"tremor-raw",...B,children:(0,a.jsx)(n.u,{children:(0,a.jsxs)(o.Q,{data:r,onClick:ea&&($||J)?()=>{X(void 0),ee(void 0),null==Q||Q(null)}:void 0,margin:{bottom:Y?30:void 0,left:O?0:void 0,right:O?0:void 0,top:5},stackOffset:"percent"===W?"expand":void 0,children:[L?(0,a.jsx)(i.d,{className:(0,k.cx)("stroke-gray-200 stroke-1 dark:stroke-gray-800"),horizontal:!0,vertical:!1}):null,(0,a.jsx)(s.W,{padding:{left:H,right:H},hide:!w,dataKey:x,interval:b?"preserveStartEnd":D,tick:{transform:"translate(0, 6)"},ticks:b?[r[0][x],r[r.length-1][x]]:void 0,fill:"",stroke:"",className:(0,k.cx)("text-xs","fill-gray-500 dark:fill-gray-500"),tickLine:!1,axisLine:!1,minTickGap:P}),(0,a.jsx)(c.h,{orientation:"right",width:T,hide:!C,axisLine:!1,tickLine:!1,type:"number",domain:er,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:(0,k.cx)("text-xs","fill-gray-500 dark:fill-gray-500"),tickFormatter:"percent"===W?function(e){return"".concat((100*e).toFixed(0),"%")}:v,allowDecimals:M}),(0,a.jsx)(d.m,{wrapperStyle:{outline:"none"},isAnimationActive:!0,animationDuration:100,cursor:{stroke:"#d1d5db",strokeWidth:1},offset:0,position:{y:0},content:e=>{let{active:t,payload:r,label:l}=e,n=r?r.map(e=>({category:e.dataKey,value:e.value,index:e.payload[x],color:et.get(e.dataKey),type:e.type,payload:e.payload})):[];return G&&(t!==eo.current||l!==ei.current)&&(G({active:t,payload:n,label:l}),eo.current=t,ei.current=l),E&&t?U?(0,a.jsx)(U,{active:t,payload:n,label:l}):(0,a.jsx)(N,{active:t,payload:n,label:l,valueFormatter:v}):null}}),S?(0,a.jsx)(u.s,{verticalAlign:"top",height:Z,content:e=>{let{payload:t}=e;return j({payload:t},et,V,$,ea?e=>ec(e):void 0,_,z,T)}}):null,f.map(e=>{let t="".concat(en,"-").concat(e.replace(/[^a-zA-Z0-9]/g,""));return(0,a.jsxs)(l.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("linearGradient",{className:(0,k.cx)((0,h.tQ)(et.get(e),"text")),id:t,x1:"0",y1:"0",x2:"0",y2:"1",children:es({fillType:q,activeDot:J,activeLegend:$,category:e})},e)},e),(0,a.jsx)(p.G,{className:(0,k.cx)((0,h.tQ)(et.get(e),"stroke")),strokeOpacity:J||$&&$!==e?.3:1,activeDot:e=>{let{cx:t,cy:l,stroke:n,strokeLinecap:o,strokeLinejoin:i,strokeWidth:s,dataKey:c}=e;return(0,a.jsx)(g.c,{className:(0,k.cx)("stroke-white dark:stroke-gray-950",Q?"cursor-pointer":"",(0,h.tQ)(et.get(c),"fill")),cx:t,cy:l,r:5,fill:"",stroke:n,strokeLinecap:o,strokeLinejoin:i,strokeWidth:s,onClick:(t,a)=>(function(e,t){t.stopPropagation(),ea&&(e.index===(null==J?void 0:J.index)&&e.dataKey===(null==J?void 0:J.dataKey)||(0,h.IQ)(r,e.dataKey)&&$&&$===e.dataKey?(ee(void 0),X(void 0),null==Q||Q(null)):(ee(e.dataKey),X({index:e.index,dataKey:e.dataKey}),null==Q||Q({eventType:"dot",categoryClicked:e.dataKey,...e.payload})))})(e,a)})},dot:e=>{let{stroke:t,strokeLinecap:r,strokeLinejoin:l,strokeWidth:n,cx:o,cy:i,dataKey:s,index:c}=e;return(0,a.jsx)(g.c,{cx:o,cy:i,r:0,stroke:t,fill:"",strokeLinecap:r,strokeLinejoin:l,strokeWidth:n,className:(0,k.cx)("stroke-white dark:stroke-gray-950",Q?"cursor-pointer":"",(0,h.tQ)(et.get(s),"fill"))},c)},name:e,type:"linear",dataKey:e,stroke:"",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:!1,connectNulls:I,stackId:el?"stack":void 0,fill:"url(#".concat(t,")")},e)]},e)}),Q?f.map(e=>(0,a.jsx)(m.N,{className:(0,k.cx)("cursor-pointer"),strokeOpacity:0,name:e,type:"linear",dataKey:e,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:I,onClick:(e,t)=>{t.stopPropagation();let{name:r}=e;ec(r)}},e)):null]})})})});C.displayName="AreaChart"}}]);